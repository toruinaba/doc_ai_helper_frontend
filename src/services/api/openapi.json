{"openapi":"3.1.0","info":{"title":"Document AI Helper API","description":"API for Document AI Helper","version":"0.1.0"},"paths":{"/":{"get":{"summary":"Root","description":"Root endpoint.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/health/":{"get":{"tags":["health"],"summary":"Health check","description":"Check if the API is up and running","operationId":"health_check_api_v1_health__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Health Check Api V1 Health  Get"}}}}}}},"/api/v1/documents/contents/{service}/{owner}/{repo}/{path}":{"get":{"tags":["documents"],"summary":"Get document","description":"Get document from a Git repository","operationId":"get_document_api_v1_documents_contents__service___owner___repo___path__get","parameters":[{"name":"service","in":"path","required":true,"schema":{"type":"string","description":"Git service (github, forgejo, mock)","title":"Service"},"description":"Git service (github, forgejo, mock)"},{"name":"owner","in":"path","required":true,"schema":{"type":"string","description":"Repository owner","title":"Owner"},"description":"Repository owner"},{"name":"repo","in":"path","required":true,"schema":{"type":"string","description":"Repository name","title":"Repo"},"description":"Repository name"},{"name":"path","in":"path","required":true,"schema":{"type":"string","description":"Document path","title":"Path"},"description":"Document path"},{"name":"ref","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Branch or tag name","default":"main","title":"Ref"},"description":"Branch or tag name"},{"name":"transform_links","in":"query","required":false,"schema":{"type":"boolean","description":"Transform relative links to absolute","default":true,"title":"Transform Links"},"description":"Transform relative links to absolute"},{"name":"base_url","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Base URL for link transformation","title":"Base Url"},"description":"Base URL for link transformation"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/documents/structure/{service}/{owner}/{repo}":{"get":{"tags":["documents"],"summary":"Get repository structure","description":"Get structure of a Git repository","operationId":"get_repository_structure_api_v1_documents_structure__service___owner___repo__get","parameters":[{"name":"service","in":"path","required":true,"schema":{"type":"string","description":"Git service (github, forgejo, mock)","title":"Service"},"description":"Git service (github, forgejo, mock)"},{"name":"owner","in":"path","required":true,"schema":{"type":"string","description":"Repository owner","title":"Owner"},"description":"Repository owner"},{"name":"repo","in":"path","required":true,"schema":{"type":"string","description":"Repository name","title":"Repo"},"description":"Repository name"},{"name":"ref","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Branch or tag name","default":"main","title":"Ref"},"description":"Branch or tag name"},{"name":"path","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Path prefix to filter by","default":"","title":"Path"},"description":"Path prefix to filter by"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepositoryStructureResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/search/{service}/{owner}/{repo}":{"post":{"tags":["search"],"summary":"Search repository","description":"Search for content in a repository","operationId":"search_repository_api_v1_search__service___owner___repo__post","parameters":[{"name":"service","in":"path","required":true,"schema":{"type":"string","description":"Git service (github, gitlab, etc.)","title":"Service"},"description":"Git service (github, gitlab, etc.)"},{"name":"owner","in":"path","required":true,"schema":{"type":"string","description":"Repository owner","title":"Owner"},"description":"Repository owner"},{"name":"repo","in":"path","required":true,"schema":{"type":"string","description":"Repository name","title":"Repo"},"description":"Repository name"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchQuery"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/llm/query":{"post":{"summary":"Query LLM","description":"Send a query to an LLM with optional document context","operationId":"query_llm_api_v1_llm_query_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LLMQueryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LLMResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/llm/capabilities":{"get":{"summary":"Get LLM capabilities","description":"Get the capabilities of the configured LLM provider","operationId":"get_capabilities_api_v1_llm_capabilities_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProviderCapabilities"}}}}}}},"/api/v1/llm/providers":{"get":{"summary":"Get provider information","description":"Get information about available LLM providers and their status","operationId":"get_provider_info_api_v1_llm_providers_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Provider Info Api V1 Llm Providers Get"}}}}}}},"/api/v1/llm/providers/{provider_name}/status":{"get":{"summary":"Get specific provider status","description":"Get detailed status information for a specific provider","operationId":"get_provider_status_api_v1_llm_providers__provider_name__status_get","parameters":[{"name":"provider_name","in":"path","required":true,"schema":{"type":"string","description":"Name of the provider to check","title":"Provider Name"},"description":"Name of the provider to check"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Provider Status Api V1 Llm Providers  Provider Name  Status Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/llm/templates":{"get":{"summary":"List available templates","description":"Get a list of available prompt templates","operationId":"list_templates_api_v1_llm_templates_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"string"},"type":"array","title":"Response List Templates Api V1 Llm Templates Get"}}}}}}},"/api/v1/llm/format-prompt":{"post":{"summary":"Format prompt template","description":"Format a prompt template with provided variables","operationId":"format_prompt_api_v1_llm_format_prompt_post","parameters":[{"name":"template_id","in":"query","required":true,"schema":{"type":"string","description":"ID of the template to format","title":"Template Id"},"description":"ID of the template to format"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Request"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"string","title":"Response Format Prompt Api V1 Llm Format Prompt Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/llm/stream":{"post":{"summary":"Stream LLM response","description":"Stream response from LLM in real-time using Server-Sent Events (SSE)","operationId":"stream_llm_response_api_v1_llm_stream_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LLMQueryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/llm/tools":{"get":{"summary":"Get available MCP tools","description":"Get a list of all available MCP tools with their descriptions and parameters","operationId":"get_mcp_tools_api_v1_llm_tools_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MCPToolsResponse"}}}}}}},"/api/v1/llm/tools/{tool_name}":{"get":{"summary":"Get specific MCP tool information","description":"Get detailed information about a specific MCP tool","operationId":"get_mcp_tool_api_v1_llm_tools__tool_name__get","parameters":[{"name":"tool_name","in":"path","required":true,"schema":{"type":"string","description":"Name of the tool to get information about","title":"Tool Name"},"description":"Name of the tool to get information about"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MCPToolInfo"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"CoreQueryRequest":{"properties":{"prompt":{"type":"string","minLength":1,"title":"Prompt","description":"The prompt to send to the LLM"},"provider":{"type":"string","title":"Provider","description":"LLM provider to use (e.g., openai, anthropic)","default":"openai"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model","description":"Specific model to use (if None, default for provider is used)"},"conversation_history":{"anyOf":[{"items":{"$ref":"#/components/schemas/MessageItem"},"type":"array"},{"type":"null"}],"title":"Conversation History","description":"Previous messages in the conversation for context"}},"type":"object","required":["prompt"],"title":"CoreQueryRequest","description":"Essential query parameters for LLM requests.\n\nThis model contains only the fundamental parameters needed for any LLM query."},"DocumentContent":{"properties":{"content":{"type":"string","title":"Content","description":"Document content"},"encoding":{"type":"string","title":"Encoding","description":"Document encoding","default":"utf-8"}},"type":"object","required":["content"],"title":"DocumentContent","description":"Document content model."},"DocumentContext":{"properties":{"repository_context":{"anyOf":[{"$ref":"#/components/schemas/RepositoryContext"},{"type":"null"}],"description":"Repository context from current document view"},"document_metadata":{"anyOf":[{"$ref":"#/components/schemas/DocumentMetadata-Input"},{"type":"null"}],"description":"Metadata of currently displayed document"},"auto_include_document":{"type":"boolean","title":"Auto Include Document","description":"Whether to automatically fetch document content from repository_context and include in conversation history for initial requests","default":true},"context_documents":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Context Documents","description":"List of document paths to include in context"}},"type":"object","title":"DocumentContext","description":"Document integration context for repository-aware queries.\n\nThis model groups all parameters related to document and repository context."},"DocumentMetadata-Input":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title","description":"Document title extracted from content or filename"},"type":{"$ref":"#/components/schemas/DocumentType-Input","description":"Document type/format"},"filename":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Filename","description":"Original filename"},"file_extension":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Extension","description":"File extension"},"last_modified":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Modified","description":"Last modification date (ISO format)"},"file_size":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"File Size","description":"File size in bytes"},"encoding":{"type":"string","title":"Encoding","description":"File encoding","default":"utf-8"},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language","description":"Primary language of the document (ja, en, etc.)"}},"type":"object","required":["type"],"title":"DocumentMetadata","description":"Metadata of currently displayed document.\n\nThis model contains metadata information about the document\nbeing viewed, which helps in generating appropriate system prompts."},"DocumentMetadata-Output":{"properties":{"size":{"type":"integer","title":"Size","description":"Document size in bytes"},"last_modified":{"type":"string","format":"date-time","title":"Last Modified","description":"Last modified datetime"},"content_type":{"type":"string","title":"Content Type","description":"Content type"},"sha":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sha","description":"SHA hash of the document"},"download_url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Download Url","description":"Download URL"},"html_url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Html Url","description":"HTML URL"},"raw_url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Raw Url","description":"Raw URL"},"extra":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Extra","description":"Extra metadata","default":{}}},"type":"object","required":["size","last_modified","content_type"],"title":"DocumentMetadata","description":"Document metadata model."},"DocumentResponse":{"properties":{"path":{"type":"string","title":"Path","description":"Path to the document in the repository"},"name":{"type":"string","title":"Name","description":"Document name"},"type":{"$ref":"#/components/schemas/DocumentType-Output","description":"Document type"},"metadata":{"$ref":"#/components/schemas/DocumentMetadata-Output","description":"Document metadata"},"content":{"$ref":"#/components/schemas/DocumentContent","description":"Document content"},"repository":{"type":"string","title":"Repository","description":"Repository name"},"owner":{"type":"string","title":"Owner","description":"Repository owner"},"service":{"type":"string","title":"Service","description":"Git service"},"ref":{"type":"string","title":"Ref","description":"Branch or tag name","default":"main"},"links":{"anyOf":[{"items":{"$ref":"#/components/schemas/LinkInfo"},"type":"array"},{"type":"null"}],"title":"Links","description":"Document links"},"transformed_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transformed Content","description":"Content with transformed links"}},"type":"object","required":["path","name","type","metadata","content","repository","owner","service"],"title":"DocumentResponse","description":"Document response model."},"DocumentType-Input":{"type":"string","enum":["markdown","html","text","python","javascript","typescript","json","yaml","xml","other"],"title":"DocumentType","description":"Supported document types."},"DocumentType-Output":{"type":"string","enum":["markdown","quarto","html","other"],"title":"DocumentType","description":"Document type enum."},"FileTreeItem":{"properties":{"path":{"type":"string","title":"Path","description":"Path to the item"},"name":{"type":"string","title":"Name","description":"Item name"},"type":{"type":"string","title":"Type","description":"Item type (file or directory)"},"size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Size","description":"Item size in bytes"},"sha":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sha","description":"SHA hash of the item"},"download_url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Download Url","description":"Download URL"},"html_url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Html Url","description":"HTML URL"},"git_url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Git Url","description":"Git URL"}},"type":"object","required":["path","name","type"],"title":"FileTreeItem","description":"File tree item model."},"FunctionCall":{"properties":{"name":{"type":"string","title":"Name","description":"Function name to call"},"arguments":{"type":"string","title":"Arguments","description":"Function arguments as JSON string"}},"type":"object","required":["name","arguments"],"title":"FunctionCall","description":"Function call details from LLM response."},"GitService":{"type":"string","enum":["github","gitlab","bitbucket","forgejo"],"title":"GitService","description":"Supported Git services."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LLMQueryRequest":{"properties":{"query":{"$ref":"#/components/schemas/CoreQueryRequest","description":"Core query parameters"},"tools":{"anyOf":[{"$ref":"#/components/schemas/ToolConfiguration"},{"type":"null"}],"description":"Tool/function calling configuration"},"document":{"anyOf":[{"$ref":"#/components/schemas/DocumentContext"},{"type":"null"}],"description":"Document integration context"},"processing":{"anyOf":[{"$ref":"#/components/schemas/ProcessingOptions"},{"type":"null"}],"description":"Processing and caching options"}},"type":"object","required":["query"],"title":"LLMQueryRequest","description":"LLM query request with structured, grouped parameters.\n\nThis model provides a cleaner, more maintainable structure by grouping\nrelated parameters into focused sub-models for better organization\nand easier maintenance."},"LLMResponse":{"properties":{"content":{"type":"string","title":"Content","description":"The content returned by the LLM"},"model":{"type":"string","title":"Model","description":"The model used for generation"},"provider":{"type":"string","title":"Provider","description":"The provider of the LLM"},"usage":{"$ref":"#/components/schemas/LLMUsage","description":"Token usage information"},"raw_response":{"additionalProperties":true,"type":"object","title":"Raw Response","description":"Raw response from the provider"},"optimized_conversation_history":{"anyOf":[{"items":{"$ref":"#/components/schemas/MessageItem"},"type":"array"},{"type":"null"}],"title":"Optimized Conversation History","description":"Optimized conversation history that frontend should use for next request"},"history_optimization_info":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"History Optimization Info","description":"Information about how the conversation history was optimized"},"tool_calls":{"anyOf":[{"items":{"$ref":"#/components/schemas/ToolCall"},"type":"array"},{"type":"null"}],"title":"Tool Calls","description":"Tool calls requested by the LLM (for function calling)"},"tool_execution_results":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Tool Execution Results","description":"Results of executed tool calls"},"original_tool_calls":{"anyOf":[{"items":{"$ref":"#/components/schemas/ToolCall"},"type":"array"},{"type":"null"}],"title":"Original Tool Calls","description":"Original tool calls from the initial LLM response (for debugging)"}},"type":"object","required":["content","model","provider"],"title":"LLMResponse","description":"Response model for LLM query."},"LLMUsage":{"properties":{"prompt_tokens":{"type":"integer","title":"Prompt Tokens","description":"Number of tokens in the prompt","default":0},"completion_tokens":{"type":"integer","title":"Completion Tokens","description":"Number of tokens in the completion","default":0},"total_tokens":{"type":"integer","title":"Total Tokens","description":"Total number of tokens used","default":0}},"type":"object","title":"LLMUsage","description":"Usage information for LLM requests."},"LinkInfo":{"properties":{"text":{"type":"string","title":"Text","description":"リンクテキスト"},"url":{"type":"string","title":"Url","description":"リンクURL"},"is_image":{"type":"boolean","title":"Is Image","description":"画像リンクかどうか","default":false},"position":{"prefixItems":[{"type":"integer"},{"type":"integer"}],"type":"array","maxItems":2,"minItems":2,"title":"Position","description":"リンクの位置（開始,終了）"},"is_external":{"type":"boolean","title":"Is External","description":"外部リンクかどうか","default":false}},"type":"object","required":["text","url","position"],"title":"LinkInfo","description":"ドキュメント内のリンク情報モデル。"},"MCPToolInfo":{"properties":{"name":{"type":"string","title":"Name","description":"Tool name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Tool description"},"parameters":{"items":{"$ref":"#/components/schemas/ToolParameter"},"type":"array","title":"Parameters","description":"Tool parameters"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category","description":"Tool category (document, feedback, analysis, etc.)"},"enabled":{"type":"boolean","title":"Enabled","description":"Whether the tool is enabled","default":true}},"type":"object","required":["name"],"title":"MCPToolInfo","description":"Information about an MCP tool."},"MCPToolsResponse":{"properties":{"tools":{"items":{"$ref":"#/components/schemas/MCPToolInfo"},"type":"array","title":"Tools","description":"List of available MCP tools"},"total_count":{"type":"integer","title":"Total Count","description":"Total number of available tools"},"categories":{"items":{"type":"string"},"type":"array","title":"Categories","description":"Available tool categories"},"server_info":{"additionalProperties":true,"type":"object","title":"Server Info","description":"MCP server information"}},"type":"object","required":["tools","total_count","categories"],"title":"MCPToolsResponse","description":"Response model for MCP tools list."},"MessageItem":{"properties":{"role":{"$ref":"#/components/schemas/MessageRole","description":"Role of the message sender"},"content":{"type":"string","title":"Content","description":"Content of the message"},"timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Timestamp","description":"Timestamp when the message was created"}},"type":"object","required":["role","content"],"title":"MessageItem","description":"A single message in a conversation."},"MessageRole":{"type":"string","enum":["user","assistant","system"],"title":"MessageRole","description":"Role in a conversation message."},"ProcessingOptions":{"properties":{"disable_cache":{"type":"boolean","title":"Disable Cache","description":"If True, bypass cache and always make a fresh API call","default":false},"options":{"additionalProperties":true,"type":"object","title":"Options","description":"Additional options for the LLM provider"}},"type":"object","title":"ProcessingOptions","description":"Processing and caching options for LLM requests.\n\nThis model groups parameters that control how the request is processed and cached."},"ProviderCapabilities":{"properties":{"available_models":{"items":{"type":"string"},"type":"array","title":"Available Models","description":"List of available models"},"max_tokens":{"additionalProperties":{"type":"integer"},"type":"object","title":"Max Tokens","description":"Maximum tokens per model"},"supports_streaming":{"type":"boolean","title":"Supports Streaming","description":"Whether the provider supports streaming","default":false},"supports_function_calling":{"type":"boolean","title":"Supports Function Calling","description":"Whether the provider supports function calling","default":false},"supports_vision":{"type":"boolean","title":"Supports Vision","description":"Whether the provider supports vision/images","default":false}},"type":"object","required":["available_models","max_tokens"],"title":"ProviderCapabilities","description":"Capabilities of an LLM provider."},"RepositoryContext":{"properties":{"service":{"$ref":"#/components/schemas/GitService","description":"Git service type (github, gitlab, etc.)"},"owner":{"type":"string","minLength":1,"title":"Owner","description":"Repository owner/organization name"},"repo":{"type":"string","minLength":1,"title":"Repo","description":"Repository name"},"ref":{"type":"string","title":"Ref","description":"Branch/tag reference","default":"main"},"current_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Path","description":"Current document path relative to repository root"},"base_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Base Url","description":"Base URL for the repository"}},"type":"object","required":["service","owner","repo"],"title":"RepositoryContext","description":"Repository context information from current document view.\n\nThis model represents the repository and location context\nof the currently displayed document."},"RepositoryStructureResponse":{"properties":{"service":{"type":"string","title":"Service","description":"Git service"},"owner":{"type":"string","title":"Owner","description":"Repository owner"},"repo":{"type":"string","title":"Repo","description":"Repository name"},"ref":{"type":"string","title":"Ref","description":"Branch or tag name","default":"main"},"tree":{"items":{"$ref":"#/components/schemas/FileTreeItem"},"type":"array","title":"Tree","description":"Repository tree"},"last_updated":{"type":"string","format":"date-time","title":"Last Updated","description":"Last updated datetime"}},"type":"object","required":["service","owner","repo","tree","last_updated"],"title":"RepositoryStructureResponse","description":"Repository structure response model."},"SearchQuery":{"properties":{"query":{"type":"string","title":"Query","description":"Search query"},"limit":{"type":"integer","title":"Limit","description":"Maximum number of results","default":10},"offset":{"type":"integer","title":"Offset","description":"Results offset","default":0}},"type":"object","required":["query"],"title":"SearchQuery","description":"Search query model."},"SearchResponse":{"properties":{"total":{"type":"integer","title":"Total","description":"Total number of results"},"offset":{"type":"integer","title":"Offset","description":"Results offset"},"limit":{"type":"integer","title":"Limit","description":"Maximum number of results"},"query":{"type":"string","title":"Query","description":"Search query"},"results":{"items":{"$ref":"#/components/schemas/SearchResultItem"},"type":"array","title":"Results","description":"Search results"},"execution_time_ms":{"type":"number","title":"Execution Time Ms","description":"Search execution time in milliseconds"}},"type":"object","required":["total","offset","limit","query","results","execution_time_ms"],"title":"SearchResponse","description":"Search response model."},"SearchResultItem":{"properties":{"path":{"type":"string","title":"Path","description":"Path to the file"},"name":{"type":"string","title":"Name","description":"File name"},"type":{"type":"string","title":"Type","description":"File type"},"repository":{"type":"string","title":"Repository","description":"Repository name"},"owner":{"type":"string","title":"Owner","description":"Repository owner"},"service":{"type":"string","title":"Service","description":"Git service"},"score":{"type":"number","title":"Score","description":"Search score"},"highlight":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Highlight","description":"Search highlight"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"File metadata","default":{}}},"type":"object","required":["path","name","type","repository","owner","service","score"],"title":"SearchResultItem","description":"Search result item model."},"ToolCall":{"properties":{"id":{"type":"string","title":"Id","description":"Tool call ID"},"type":{"type":"string","const":"function","title":"Type","description":"Tool call type","default":"function"},"function":{"$ref":"#/components/schemas/FunctionCall","description":"Function call details"}},"type":"object","required":["id","function"],"title":"ToolCall","description":"Tool call details from LLM response."},"ToolConfiguration":{"properties":{"enable_tools":{"type":"boolean","title":"Enable Tools","description":"Enable automatic function calling/tool execution","default":false},"tool_choice":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tool Choice","description":"Tool selection strategy: auto, none, required, or specific function name","default":"auto"},"complete_tool_flow":{"type":"boolean","title":"Complete Tool Flow","description":"If True, use complete Function Calling flow (tool execution + LLM followup). If False, use legacy flow (direct tool results)","default":true}},"type":"object","title":"ToolConfiguration","description":"Configuration for tool/function calling capabilities.\n\nThis model groups all parameters related to LLM tool execution and function calling."},"ToolParameter":{"properties":{"name":{"type":"string","title":"Name","description":"Parameter name"},"type":{"type":"string","title":"Type","description":"Parameter type"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Parameter description"},"required":{"type":"boolean","title":"Required","description":"Whether the parameter is required","default":false},"default":{"anyOf":[{},{"type":"null"}],"title":"Default","description":"Default value if any"}},"type":"object","required":["name","type"],"title":"ToolParameter","description":"Parameter definition for an MCP tool."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}