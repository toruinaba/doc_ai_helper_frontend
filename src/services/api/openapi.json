{"openapi":"3.1.0","info":{"title":"Document AI Helper API","description":"API for Document AI Helper","version":"0.1.0"},"paths":{"/":{"get":{"summary":"Root","description":"Root endpoint.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/health/":{"get":{"tags":["health"],"summary":"Health check","description":"Check if the API is up and running","operationId":"health_check_api_v1_health__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Health Check Api V1 Health  Get"}}}}}}},"/api/v1/documents/contents/{service}/{owner}/{repo}/{path}":{"get":{"tags":["documents"],"summary":"Get document","description":"Get document from a Git repository","operationId":"get_document_api_v1_documents_contents__service___owner___repo___path__get","parameters":[{"name":"service","in":"path","required":true,"schema":{"type":"string","description":"Git service (github, gitlab, etc.)","title":"Service"},"description":"Git service (github, gitlab, etc.)"},{"name":"owner","in":"path","required":true,"schema":{"type":"string","description":"Repository owner","title":"Owner"},"description":"Repository owner"},{"name":"repo","in":"path","required":true,"schema":{"type":"string","description":"Repository name","title":"Repo"},"description":"Repository name"},{"name":"path","in":"path","required":true,"schema":{"type":"string","description":"Document path","title":"Path"},"description":"Document path"},{"name":"ref","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Branch or tag name","default":"main","title":"Ref"},"description":"Branch or tag name"},{"name":"transform_links","in":"query","required":false,"schema":{"type":"boolean","description":"Transform relative links to absolute","default":true,"title":"Transform Links"},"description":"Transform relative links to absolute"},{"name":"base_url","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Base URL for link transformation","title":"Base Url"},"description":"Base URL for link transformation"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/documents/structure/{service}/{owner}/{repo}":{"get":{"tags":["documents"],"summary":"Get repository structure","description":"Get structure of a Git repository","operationId":"get_repository_structure_api_v1_documents_structure__service___owner___repo__get","parameters":[{"name":"service","in":"path","required":true,"schema":{"type":"string","description":"Git service (github, gitlab, etc.)","title":"Service"},"description":"Git service (github, gitlab, etc.)"},{"name":"owner","in":"path","required":true,"schema":{"type":"string","description":"Repository owner","title":"Owner"},"description":"Repository owner"},{"name":"repo","in":"path","required":true,"schema":{"type":"string","description":"Repository name","title":"Repo"},"description":"Repository name"},{"name":"ref","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Branch or tag name","default":"main","title":"Ref"},"description":"Branch or tag name"},{"name":"path","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Path prefix to filter by","default":"","title":"Path"},"description":"Path prefix to filter by"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepositoryStructureResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/repositories/":{"get":{"tags":["repositories"],"summary":"List repositories","description":"List all repositories","operationId":"list_repositories_api_v1_repositories__get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","description":"Number of repositories to skip","default":0,"title":"Skip"},"description":"Number of repositories to skip"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","description":"Maximum number of repositories to return","default":100,"title":"Limit"},"description":"Maximum number of repositories to return"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RepositoryResponse"},"title":"Response List Repositories Api V1 Repositories  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["repositories"],"summary":"Create repository","description":"Create a new repository","operationId":"create_repository_api_v1_repositories__post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepositoryCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepositoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/repositories/{repository_id}":{"get":{"tags":["repositories"],"summary":"Get repository","description":"Get repository by ID","operationId":"get_repository_api_v1_repositories__repository_id__get","parameters":[{"name":"repository_id","in":"path","required":true,"schema":{"type":"integer","description":"Repository ID","title":"Repository Id"},"description":"Repository ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepositoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["repositories"],"summary":"Update repository","description":"Update repository by ID","operationId":"update_repository_api_v1_repositories__repository_id__put","parameters":[{"name":"repository_id","in":"path","required":true,"schema":{"type":"integer","description":"Repository ID","title":"Repository Id"},"description":"Repository ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepositoryUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepositoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["repositories"],"summary":"Delete repository","description":"Delete repository by ID","operationId":"delete_repository_api_v1_repositories__repository_id__delete","parameters":[{"name":"repository_id","in":"path","required":true,"schema":{"type":"integer","description":"Repository ID","title":"Repository Id"},"description":"Repository ID"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/search/{service}/{owner}/{repo}":{"post":{"tags":["search"],"summary":"Search repository","description":"Search for content in a repository","operationId":"search_repository_api_v1_search__service___owner___repo__post","parameters":[{"name":"service","in":"path","required":true,"schema":{"type":"string","description":"Git service (github, gitlab, etc.)","title":"Service"},"description":"Git service (github, gitlab, etc.)"},{"name":"owner","in":"path","required":true,"schema":{"type":"string","description":"Repository owner","title":"Owner"},"description":"Repository owner"},{"name":"repo","in":"path","required":true,"schema":{"type":"string","description":"Repository name","title":"Repo"},"description":"Repository name"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchQuery"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/llm/query":{"post":{"summary":"Query LLM","description":"Send a query to an LLM with optional document context","operationId":"query_llm_api_v1_llm_query_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LLMQueryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LLMResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/llm/capabilities":{"get":{"summary":"Get LLM capabilities","description":"Get the capabilities of the configured LLM provider","operationId":"get_capabilities_api_v1_llm_capabilities_get","parameters":[{"name":"provider","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"LLM provider to check capabilities for","title":"Provider"},"description":"LLM provider to check capabilities for"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/llm/templates":{"get":{"summary":"List available templates","description":"Get a list of available prompt templates","operationId":"list_templates_api_v1_llm_templates_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"string"},"type":"array","title":"Response List Templates Api V1 Llm Templates Get"}}}}}}},"/api/v1/llm/format-prompt":{"post":{"summary":"Format prompt template","description":"Format a prompt template with provided variables","operationId":"format_prompt_api_v1_llm_format_prompt_post","parameters":[{"name":"template_id","in":"query","required":true,"schema":{"type":"string","description":"ID of the template to format","title":"Template Id"},"description":"ID of the template to format"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Request"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"string","title":"Response Format Prompt Api V1 Llm Format Prompt Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/llm/stream":{"post":{"summary":"Stream LLM response","description":"Stream response from LLM in real-time using Server-Sent Events (SSE)","operationId":"stream_llm_response_api_v1_llm_stream_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LLMQueryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"DocumentContent":{"properties":{"content":{"type":"string","title":"Content","description":"Document content"},"encoding":{"type":"string","title":"Encoding","description":"Document encoding","default":"utf-8"}},"type":"object","required":["content"],"title":"DocumentContent","description":"Document content model."},"DocumentMetadata":{"properties":{"size":{"type":"integer","title":"Size","description":"Document size in bytes"},"last_modified":{"type":"string","format":"date-time","title":"Last Modified","description":"Last modified datetime"},"content_type":{"type":"string","title":"Content Type","description":"Content type"},"sha":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sha","description":"SHA hash of the document"},"download_url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Download Url","description":"Download URL"},"html_url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Html Url","description":"HTML URL"},"raw_url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Raw Url","description":"Raw URL"},"extra":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Extra","description":"Extra metadata","default":{}}},"type":"object","required":["size","last_modified","content_type"],"title":"DocumentMetadata","description":"Document metadata model."},"DocumentResponse":{"properties":{"path":{"type":"string","title":"Path","description":"Path to the document in the repository"},"name":{"type":"string","title":"Name","description":"Document name"},"type":{"$ref":"#/components/schemas/DocumentType","description":"Document type"},"metadata":{"$ref":"#/components/schemas/DocumentMetadata","description":"Document metadata"},"content":{"$ref":"#/components/schemas/DocumentContent","description":"Document content"},"repository":{"type":"string","title":"Repository","description":"Repository name"},"owner":{"type":"string","title":"Owner","description":"Repository owner"},"service":{"type":"string","title":"Service","description":"Git service"},"ref":{"type":"string","title":"Ref","description":"Branch or tag name","default":"main"},"links":{"anyOf":[{"items":{"$ref":"#/components/schemas/LinkInfo"},"type":"array"},{"type":"null"}],"title":"Links","description":"Document links"},"transformed_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transformed Content","description":"Content with transformed links"}},"type":"object","required":["path","name","type","metadata","content","repository","owner","service"],"title":"DocumentResponse","description":"Document response model."},"DocumentType":{"type":"string","enum":["markdown","quarto","html","other"],"title":"DocumentType","description":"Document type enum."},"FileTreeItem":{"properties":{"path":{"type":"string","title":"Path","description":"Path to the item"},"name":{"type":"string","title":"Name","description":"Item name"},"type":{"type":"string","title":"Type","description":"Item type (file or directory)"},"size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Size","description":"Item size in bytes"},"sha":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sha","description":"SHA hash of the item"},"download_url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Download Url","description":"Download URL"},"html_url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Html Url","description":"HTML URL"},"git_url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Git Url","description":"Git URL"}},"type":"object","required":["path","name","type"],"title":"FileTreeItem","description":"File tree item model."},"GitServiceType":{"type":"string","enum":["github","gitlab"],"title":"GitServiceType","description":"Git service type enum."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LLMQueryRequest":{"properties":{"prompt":{"type":"string","title":"Prompt","description":"The prompt to send to the LLM"},"context_documents":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Context Documents","description":"List of document paths to include in context"},"provider":{"type":"string","title":"Provider","description":"LLM provider to use (e.g., openai, anthropic)","default":"openai"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model","description":"Specific model to use (if None, default for provider is used)"},"options":{"additionalProperties":true,"type":"object","title":"Options","description":"Additional options for the LLM provider"}},"type":"object","required":["prompt"],"title":"LLMQueryRequest","description":"Request model for LLM query."},"LLMResponse":{"properties":{"content":{"type":"string","title":"Content","description":"The content returned by the LLM"},"model":{"type":"string","title":"Model","description":"The model used for generation"},"provider":{"type":"string","title":"Provider","description":"The provider of the LLM"},"usage":{"$ref":"#/components/schemas/LLMUsage","description":"Token usage information"},"raw_response":{"additionalProperties":true,"type":"object","title":"Raw Response","description":"Raw response from the provider"}},"type":"object","required":["content","model","provider"],"title":"LLMResponse","description":"Response model for LLM query."},"LLMUsage":{"properties":{"prompt_tokens":{"type":"integer","title":"Prompt Tokens","description":"Number of tokens in the prompt","default":0},"completion_tokens":{"type":"integer","title":"Completion Tokens","description":"Number of tokens in the completion","default":0},"total_tokens":{"type":"integer","title":"Total Tokens","description":"Total number of tokens used","default":0}},"type":"object","title":"LLMUsage","description":"Usage information for LLM requests."},"LinkInfo":{"properties":{"text":{"type":"string","title":"Text","description":"リンクテキスト"},"url":{"type":"string","title":"Url","description":"リンクURL"},"is_image":{"type":"boolean","title":"Is Image","description":"画像リンクかどうか","default":false},"position":{"prefixItems":[{"type":"integer"},{"type":"integer"}],"type":"array","maxItems":2,"minItems":2,"title":"Position","description":"リンクの位置（開始,終了）"},"is_external":{"type":"boolean","title":"Is External","description":"外部リンクかどうか","default":false}},"type":"object","required":["text","url","position"],"title":"LinkInfo","description":"ドキュメント内のリンク情報モデル。"},"RepositoryCreate":{"properties":{"name":{"type":"string","title":"Name","description":"Repository name"},"owner":{"type":"string","title":"Owner","description":"Repository owner"},"service_type":{"$ref":"#/components/schemas/GitServiceType","description":"Git service type"},"url":{"type":"string","maxLength":2083,"minLength":1,"format":"uri","title":"Url","description":"Repository URL"},"branch":{"type":"string","title":"Branch","description":"Default branch","default":"main"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Repository description"},"is_public":{"type":"boolean","title":"Is Public","description":"Is repository public","default":true},"access_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access Token","description":"Access token for private repositories"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Repository metadata","default":{}}},"type":"object","required":["name","owner","service_type","url"],"title":"RepositoryCreate","description":"Repository create model."},"RepositoryResponse":{"properties":{"name":{"type":"string","title":"Name","description":"Repository name"},"owner":{"type":"string","title":"Owner","description":"Repository owner"},"service_type":{"$ref":"#/components/schemas/GitServiceType","description":"Git service type"},"url":{"type":"string","maxLength":2083,"minLength":1,"format":"uri","title":"Url","description":"Repository URL"},"branch":{"type":"string","title":"Branch","description":"Default branch","default":"main"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Repository description"},"is_public":{"type":"boolean","title":"Is Public","description":"Is repository public","default":true},"id":{"type":"integer","title":"Id","description":"Repository ID"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Created datetime"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"Updated datetime"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Repository metadata","default":{}}},"type":"object","required":["name","owner","service_type","url","id","created_at","updated_at"],"title":"RepositoryResponse","description":"Repository response model."},"RepositoryStructureResponse":{"properties":{"service":{"type":"string","title":"Service","description":"Git service"},"owner":{"type":"string","title":"Owner","description":"Repository owner"},"repo":{"type":"string","title":"Repo","description":"Repository name"},"ref":{"type":"string","title":"Ref","description":"Branch or tag name","default":"main"},"tree":{"items":{"$ref":"#/components/schemas/FileTreeItem"},"type":"array","title":"Tree","description":"Repository tree"},"last_updated":{"type":"string","format":"date-time","title":"Last Updated","description":"Last updated datetime"}},"type":"object","required":["service","owner","repo","tree","last_updated"],"title":"RepositoryStructureResponse","description":"Repository structure response model."},"RepositoryUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Repository name"},"owner":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Owner","description":"Repository owner"},"service_type":{"anyOf":[{"$ref":"#/components/schemas/GitServiceType"},{"type":"null"}],"description":"Git service type"},"url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Url","description":"Repository URL"},"branch":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Branch","description":"Default branch"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Repository description"},"is_public":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Public","description":"Is repository public"},"access_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Access Token","description":"Access token for private repositories"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"Repository metadata"}},"type":"object","title":"RepositoryUpdate","description":"Repository update model."},"SearchQuery":{"properties":{"query":{"type":"string","title":"Query","description":"Search query"},"limit":{"type":"integer","title":"Limit","description":"Maximum number of results","default":10},"offset":{"type":"integer","title":"Offset","description":"Results offset","default":0},"file_extensions":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"File Extensions","description":"Filter by file extensions"},"path_prefix":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Path Prefix","description":"Filter by path prefix"},"metadata_filters":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata Filters","description":"Filter by metadata"}},"type":"object","required":["query"],"title":"SearchQuery","description":"Search query model."},"SearchResponse":{"properties":{"total":{"type":"integer","title":"Total","description":"Total number of results"},"offset":{"type":"integer","title":"Offset","description":"Results offset"},"limit":{"type":"integer","title":"Limit","description":"Maximum number of results"},"query":{"type":"string","title":"Query","description":"Search query"},"results":{"items":{"$ref":"#/components/schemas/SearchResultItem"},"type":"array","title":"Results","description":"Search results"},"execution_time_ms":{"type":"number","title":"Execution Time Ms","description":"Search execution time in milliseconds"}},"type":"object","required":["total","offset","limit","query","results","execution_time_ms"],"title":"SearchResponse","description":"Search response model."},"SearchResultItem":{"properties":{"path":{"type":"string","title":"Path","description":"Path to the file"},"name":{"type":"string","title":"Name","description":"File name"},"type":{"type":"string","title":"Type","description":"File type"},"repository":{"type":"string","title":"Repository","description":"Repository name"},"owner":{"type":"string","title":"Owner","description":"Repository owner"},"service":{"type":"string","title":"Service","description":"Git service"},"score":{"type":"number","title":"Score","description":"Search score"},"highlight":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Highlight","description":"Search highlight"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata","description":"File metadata","default":{}}},"type":"object","required":["path","name","type","repository","owner","service","score"],"title":"SearchResultItem","description":"Search result item model."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}